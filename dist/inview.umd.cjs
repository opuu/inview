(function(r,o){typeof exports=="object"&&typeof module!="undefined"?module.exports=o():typeof define=="function"&&define.amd?define(o):(r=typeof globalThis!="undefined"?globalThis:r||self,r.InView=o())})(this,function(){"use strict";class r{constructor(e){this.items=null,this.paused=!1,this.delay=0,this.threshold=[],this.single=!1,this.observers=[];let t=.01;typeof e=="string"?(this.items=document.querySelectorAll(e),this.delay=0):typeof e=="object"&&(e.delay&&(this.delay=e.delay),e.single&&(this.single=e.single),e.precision==="low"?t=.1:e.precision==="medium"?t=.01:e.precision==="high"&&(t=.001),this.single?this.items=document.querySelector(e.selector):this.items=document.querySelectorAll(e.selector));for(let i=0;i<=1;i+=t)this.threshold.push(i)}pause(){return this.paused=!0,this}resume(){return this.paused=!1,this}setDelay(e){return this.delay=e,this}destroy(){return this.observers.forEach(e=>{e.disconnect()}),this.observers=[],this.paused=!1,this.items=null,this}on(e,t){if("IntersectionObserver"in window){const i=new IntersectionObserver(n=>{n.forEach(s=>{if(e==="enter"&&s.intersectionRatio>0||e==="exit"&&s.intersectionRatio===0){const h={percentage:s.intersectionRatio*100,rootBounds:s.rootBounds,boundingClientRect:s.boundingClientRect,intersectionRect:s.intersectionRect,target:s.target,time:s.time,event:e};this.paused||(this.delay>0?setTimeout(()=>{t(h)},this.delay):t(h))}})},{threshold:this.threshold});this.items instanceof Element?i.observe(this.items):this.items instanceof NodeList?this.items.forEach(n=>{i.observe(n)}):console.error("InView: No items found."),this.observers.push(i)}else console.error("InView: IntersectionObserver not supported.");return this}}return r});
